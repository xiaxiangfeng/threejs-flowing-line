var n=1e-6,t=1e-12,r=Math.PI,e=r/2,i=r/4,o=2*r,u=180/r,a=r/180,c=Math.abs,l=Math.atan,f=Math.atan2,p=Math.cos,s=Math.ceil,h=Math.exp,g=Math.hypot,v=Math.log,d=Math.pow,E=Math.sin,S=Math.sign||function(n){return n>0?1:n<0?-1:0},y=Math.sqrt,m=Math.tan;function M(n){return n>1?0:n<-1?r:Math.acos(n)}function w(n){return n>1?e:n<-1?-e:Math.asin(n)}function x(n){return(n=E(n/2))*n}function _(){}function N(n,t){n&&R.hasOwnProperty(n.type)&&R[n.type](n,t)}var A={Feature:function(n,t){N(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)N(r[e].geometry,t)}},R={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){C(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)C(r[e],t,0)},Polygon:function(n,t){P(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)P(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)N(r[e],t)}};function C(n,t,r){var e,i=-1,o=n.length-r;for(t.lineStart();++i<o;)e=n[i],t.point(e[0],e[1],e[2]);t.lineEnd()}function P(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)C(n[r],t,1);t.polygonEnd()}function $(n,t){n&&A.hasOwnProperty(n.type)?A[n.type](n,t):N(n,t)}let q={Adder:function(){}};var z,j,L,b,G,O,T,k,F,H,I,W,X,Y,B,D,U=new q.Adder,Z=new q.Adder,J={point:_,lineStart:_,lineEnd:_,polygonStart:function(){U=new q.Adder,J.lineStart=K,J.lineEnd=Q},polygonEnd:function(){var n=+U;Z.add(n<0?o+n:n),this.lineStart=this.lineEnd=this.point=_},sphere:function(){Z.add(o)}};function K(){J.point=V}function Q(){nn(z,j)}function V(n,t){J.point=nn,z=n,j=t,L=n*=a,b=p(t=(t*=a)/2+i),G=E(t)}function nn(n,t){var r=(n*=a)-L,e=r>=0?1:-1,o=e*r,u=p(t=(t*=a)/2+i),c=E(t),l=G*c,s=b*u+l*p(o),h=l*e*E(o);U.add(f(h,s)),L=n,b=u,G=c}function tn(n){return[f(n[1],n[0]),w(n[2])]}function rn(n){var t=n[0],r=n[1],e=p(r);return[e*p(t),e*E(t),E(r)]}function en(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function on(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function un(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function an(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function cn(n){var t=y(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var ln,fn,pn,sn,hn,gn,vn,dn,En,Sn,yn,mn,Mn,wn,xn,_n,Nn={point:An,lineStart:Cn,lineEnd:Pn,polygonStart:function(){Nn.point=$n,Nn.lineStart=qn,Nn.lineEnd=zn,Y=new q.Adder,J.polygonStart()},polygonEnd:function(){J.polygonEnd(),Nn.point=An,Nn.lineStart=Cn,Nn.lineEnd=Pn,U<0?(O=-(k=180),T=-(F=90)):Y>n?F=90:Y<-n&&(T=-90),D[0]=O,D[1]=k},sphere:function(){O=-(k=180),T=-(F=90)}};function An(n,t){B.push(D=[O=n,k=n]),t<T&&(T=t),t>F&&(F=t)}function Rn(n,t){var r=rn([n*a,t*a]);if(X){var e=on(X,r),i=on([e[1],-e[0],0],e);cn(i),i=tn(i);var o,l=n-H,f=l>0?1:-1,p=i[0]*u*f,s=c(l)>180;s^(f*H<p&&p<f*n)?(o=i[1]*u)>F&&(F=o):s^(f*H<(p=(p+360)%360-180)&&p<f*n)?(o=-i[1]*u)<T&&(T=o):(t<T&&(T=t),t>F&&(F=t)),s?n<H?jn(O,n)>jn(O,k)&&(k=n):jn(n,k)>jn(O,k)&&(O=n):k>=O?(n<O&&(O=n),n>k&&(k=n)):n>H?jn(O,n)>jn(O,k)&&(k=n):jn(n,k)>jn(O,k)&&(O=n)}else B.push(D=[O=n,k=n]);t<T&&(T=t),t>F&&(F=t),X=r,H=n}function Cn(){Nn.point=Rn}function Pn(){D[0]=O,D[1]=k,Nn.point=An,X=null}function $n(n,t){if(X){var r=n-H;Y.add(c(r)>180?r+(r>0?360:-360):r)}else I=n,W=t;J.point(n,t),Rn(n,t)}function qn(){J.lineStart()}function zn(){$n(I,W),J.lineEnd(),c(Y)>n&&(O=-(k=180)),D[0]=O,D[1]=k,X=null}function jn(n,t){return(t-=n)<0?t+360:t}function Ln(n,t){return n[0]-t[0]}function bn(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var Gn={sphere:_,point:On,lineStart:kn,lineEnd:In,polygonStart:function(){Gn.lineStart=Wn,Gn.lineEnd=Xn},polygonEnd:function(){Gn.lineStart=kn,Gn.lineEnd=In}};function On(n,t){n*=a;var r=p(t*=a);Tn(r*p(n),r*E(n),E(t))}function Tn(n,t,r){++ln,pn+=(n-pn)/ln,sn+=(t-sn)/ln,hn+=(r-hn)/ln}function kn(){Gn.point=Fn}function Fn(n,t){n*=a;var r=p(t*=a);wn=r*p(n),xn=r*E(n),_n=E(t),Gn.point=Hn,Tn(wn,xn,_n)}function Hn(n,t){n*=a;var r=p(t*=a),e=r*p(n),i=r*E(n),o=E(t),u=f(y((u=xn*o-_n*i)*u+(u=_n*e-wn*o)*u+(u=wn*i-xn*e)*u),wn*e+xn*i+_n*o);fn+=u,gn+=u*(wn+(wn=e)),vn+=u*(xn+(xn=i)),dn+=u*(_n+(_n=o)),Tn(wn,xn,_n)}function In(){Gn.point=On}function Wn(){Gn.point=Yn}function Xn(){Bn(mn,Mn),Gn.point=On}function Yn(n,t){mn=n,Mn=t,n*=a,t*=a,Gn.point=Bn;var r=p(t);wn=r*p(n),xn=r*E(n),_n=E(t),Tn(wn,xn,_n)}function Bn(n,t){n*=a;var r=p(t*=a),e=r*p(n),i=r*E(n),o=E(t),u=xn*o-_n*i,c=_n*e-wn*o,l=wn*i-xn*e,f=g(u,c,l),s=w(f),h=f&&-s/f;En.add(h*u),Sn.add(h*c),yn.add(h*l),fn+=s,gn+=s*(wn+(wn=e)),vn+=s*(xn+(xn=i)),dn+=s*(_n+(_n=o)),Tn(wn,xn,_n)}function Dn(n){return function(){return n}}function Un(n,t){function r(r,e){return r=n(r,e),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,e){return(r=t.invert(r,e))&&n.invert(r[0],r[1])}),r}function Zn(n,t){return c(n)>r&&(n-=Math.round(n/o)*o),[n,t]}function Jn(n,t,r){return(n%=o)?t||r?Un(Qn(n),Vn(t,r)):Qn(n):t||r?Vn(t,r):Zn}function Kn(n){return function(t,e){return c(t+=n)>r&&(t-=Math.round(t/o)*o),[t,e]}}function Qn(n){var t=Kn(n);return t.invert=Kn(-n),t}function Vn(n,t){var r=p(n),e=E(n),i=p(t),o=E(t);function u(n,t){var u=p(t),a=p(n)*u,c=E(n)*u,l=E(t),s=l*r+a*e;return[f(c*i-s*o,a*r-l*e),w(s*i+c*o)]}return u.invert=function(n,t){var u=p(t),a=p(n)*u,c=E(n)*u,l=E(t),s=l*i-c*o;return[f(c*i+l*o,a*r+s*e),w(s*r-a*e)]},u}function nt(n){function t(t){return(t=n(t[0]*a,t[1]*a))[0]*=u,t[1]*=u,t}return n=Jn(n[0]*a,n[1]*a,n.length>2?n[2]*a:0),t.invert=function(t){return(t=n.invert(t[0]*a,t[1]*a))[0]*=u,t[1]*=u,t},t}function tt(n,t,r,e,i,u){if(r){var a=p(t),c=E(t),l=e*r;null==i?(i=t+e*o,u=t-l/2):(i=rt(a,i),u=rt(a,u),(e>0?i<u:i>u)&&(i+=e*o));for(var f,s=i;e>0?s>u:s<u;s-=l)f=tn([a,-c*p(s),-c*E(s)]),n.point(f[0],f[1])}}function rt(t,r){(r=rn(r))[0]-=t,cn(r);var e=M(-r[1]);return((-r[2]<0?-e:e)+o-n)%o}function et(){var n,t=[];return{point:function(t,r,e){n.push([t,r,e])},lineStart:function(){t.push(n=[])},lineEnd:_,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function it(t,r){return c(t[0]-r[0])<n&&c(t[1]-r[1])<n}function ot(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function ut(t,r,e,i,o){var u,a,c=[],l=[];if(t.forEach((function(t){if(!((r=t.length-1)<=0)){var r,e,i=t[0],a=t[r];if(it(i,a)){if(!i[2]&&!a[2]){for(o.lineStart(),u=0;u<r;++u)o.point((i=t[u])[0],i[1]);return void o.lineEnd()}a[0]+=2*n}c.push(e=new ot(i,t,null,!0)),l.push(e.o=new ot(i,null,e,!1)),c.push(e=new ot(a,t,null,!1)),l.push(e.o=new ot(a,null,e,!0))}})),c.length){for(l.sort(r),at(c),at(l),u=0,a=l.length;u<a;++u)l[u].e=e=!e;for(var f,p,s=c[0];;){for(var h=s,g=!0;h.v;)if((h=h.n)===s)return;f=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(u=0,a=f.length;u<a;++u)o.point((p=f[u])[0],p[1]);else i(h.x,h.n.x,1,o);h=h.n}else{if(g)for(f=h.p.z,u=f.length-1;u>=0;--u)o.point((p=f[u])[0],p[1]);else i(h.x,h.p.x,-1,o);h=h.p}f=(h=h.o).z,g=!g}while(!h.v);o.lineEnd()}}}function at(n){if(t=n.length){for(var t,r,e=0,i=n[0];++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}function ct(n){return c(n[0])<=r?n[0]:S(n[0])*((c(n[0])+r)%o-r)}function lt(u,a){var c=ct(a),l=a[1],s=E(l),h=[E(c),-p(c),0],g=0,v=0,d=new q.Adder;1===s?l=e+n:-1===s&&(l=-e-n);for(var S=0,y=u.length;S<y;++S)if(M=(m=u[S]).length)for(var m,M,x=m[M-1],_=ct(x),N=x[1]/2+i,A=E(N),R=p(N),C=0;C<M;++C,_=$,A=j,R=L,x=P){var P=m[C],$=ct(P),z=P[1]/2+i,j=E(z),L=p(z),b=$-_,G=b>=0?1:-1,O=G*b,T=O>r,k=A*j;if(d.add(f(k*G*E(O),R*L+k*p(O))),g+=T?b+G*o:b,T^_>=c^$>=c){var F=on(rn(x),rn(P));cn(F);var H=on(h,F);cn(H);var I=(T^b>=0?-1:1)*w(H[2]);(l>I||l===I&&(F[0]||F[1]))&&(v+=T^b>=0?1:-1)}}return(g<-n||g<n&&d<-t)^1&v}function ft(n,t,r,e){return function(i){var o,u,a,c=t(i),l=et(),f=t(l),p=!1,s={point:h,lineStart:v,lineEnd:d,polygonStart:function(){s.point=E,s.lineStart=S,s.lineEnd=y,u=[],o=[]},polygonEnd:function(){s.point=h,s.lineStart=v,s.lineEnd=d,u=q.merge(u);var n=lt(o,e);u.length?(p||(i.polygonStart(),p=!0),ut(u,st,n,r,i)):n&&(p||(i.polygonStart(),p=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),p&&(i.polygonEnd(),p=!1),u=o=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,r){n(t,r)&&i.point(t,r)}function g(n,t){c.point(n,t)}function v(){s.point=g,c.lineStart()}function d(){s.point=h,c.lineEnd()}function E(n,t){a.push([n,t]),f.point(n,t)}function S(){f.lineStart(),a=[]}function y(){E(a[0][0],a[0][1]),f.lineEnd();var n,t,r,e,c=f.clean(),s=l.result(),h=s.length;if(a.pop(),o.push(a),a=null,h)if(1&c){if((t=(r=s[0]).length-1)>0){for(p||(i.polygonStart(),p=!0),i.lineStart(),n=0;n<t;++n)i.point((e=r[n])[0],e[1]);i.lineEnd()}}else h>1&&2&c&&s.push(s.pop().concat(s.shift())),u.push(s.filter(pt))}return s}}function pt(n){return n.length>1}function st(t,r){return((t=t.x)[0]<0?t[1]-e-n:e-t[1])-((r=r.x)[0]<0?r[1]-e-n:e-r[1])}Zn.invert=Zn;var ht=ft((function(){return!0}),(function(t){var i,o=NaN,u=NaN,a=NaN;return{lineStart:function(){t.lineStart(),i=1},point:function(f,s){var h=f>0?r:-r,g=c(f-o);c(g-r)<n?(t.point(o,u=(u+s)/2>0?e:-e),t.point(a,u),t.lineEnd(),t.lineStart(),t.point(h,u),t.point(f,u),i=0):a!==h&&g>=r&&(c(o-a)<n&&(o-=a*n),c(f-h)<n&&(f-=h*n),u=function(t,r,e,i){var o,u,a=E(t-e);return c(a)>n?l((E(r)*(u=p(i))*E(e)-E(i)*(o=p(r))*E(t))/(o*u*a)):(r+i)/2}(o,u,f,s),t.point(a,u),t.lineEnd(),t.lineStart(),t.point(h,u),i=0),t.point(o=f,u=s),a=h},lineEnd:function(){t.lineEnd(),o=u=NaN},clean:function(){return 2-i}}}),(function(t,i,o,u){var a;if(null==t)a=o*e,u.point(-r,a),u.point(0,a),u.point(r,a),u.point(r,0),u.point(r,-a),u.point(0,-a),u.point(-r,-a),u.point(-r,0),u.point(-r,a);else if(c(t[0]-i[0])>n){var l=t[0]<i[0]?r:-r;a=o*l/2,u.point(-l,a),u.point(0,a),u.point(l,a)}else u.point(i[0],i[1])}),[-r,-e]);function gt(t){var e=p(t),i=6*a,o=e>0,u=c(e)>n;function l(n,t){return p(n)*p(t)>e}function f(t,i,o){var u=[1,0,0],a=on(rn(t),rn(i)),l=en(a,a),f=a[0],p=l-f*f;if(!p)return!o&&t;var s=e*l/p,h=-e*f/p,g=on(u,a),v=an(u,s);un(v,an(a,h));var d=g,E=en(v,d),S=en(d,d),m=E*E-S*(en(v,v)-1);if(!(m<0)){var M=y(m),w=an(d,(-E-M)/S);if(un(w,v),w=tn(w),!o)return w;var x,_=t[0],N=i[0],A=t[1],R=i[1];N<_&&(x=_,_=N,N=x);var C=N-_,P=c(C-r)<n;if(!P&&R<A&&(x=A,A=R,R=x),P||C<n?P?A+R>0^w[1]<(c(w[0]-_)<n?A:R):A<=w[1]&&w[1]<=R:C>r^(_<=w[0]&&w[0]<=N)){var $=an(d,(-E+M)/S);return un($,v),[w,tn($)]}}}function s(n,e){var i=o?t:r-t,u=0;return n<-i?u|=1:n>i&&(u|=2),e<-i?u|=4:e>i&&(u|=8),u}return ft(l,(function(n){var t,e,i,a,c;return{lineStart:function(){a=i=!1,c=1},point:function(p,h){var g,v=[p,h],d=l(p,h),E=o?d?0:s(p,h):d?s(p+(p<0?r:-r),h):0;if(!t&&(a=i=d)&&n.lineStart(),d!==i&&(!(g=f(t,v))||it(t,g)||it(v,g))&&(v[2]=1),d!==i)c=0,d?(n.lineStart(),g=f(v,t),n.point(g[0],g[1])):(g=f(t,v),n.point(g[0],g[1],2),n.lineEnd()),t=g;else if(u&&t&&o^d){var S;E&e||!(S=f(v,t,!0))||(c=0,o?(n.lineStart(),n.point(S[0][0],S[0][1]),n.point(S[1][0],S[1][1]),n.lineEnd()):(n.point(S[1][0],S[1][1]),n.lineEnd(),n.lineStart(),n.point(S[0][0],S[0][1],3)))}!d||t&&it(t,v)||n.point(v[0],v[1]),t=v,i=d,e=E},lineEnd:function(){i&&n.lineEnd(),t=null},clean:function(){return c|(a&&i)<<1}}}),(function(n,r,e,o){tt(o,t,i,e,n,r)}),o?[0,-t]:[-r,t-r])}var vt,dt,Et,St,yt=1e9,mt=-yt;function Mt(t,r,e,i){function o(n,o){return t<=n&&n<=e&&r<=o&&o<=i}function u(n,o,u,c){var l=0,p=0;if(null==n||(l=a(n,u))!==(p=a(o,u))||f(n,o)<0^u>0)do{c.point(0===l||3===l?t:e,l>1?i:r)}while((l=(l+u+4)%4)!==p);else c.point(o[0],o[1])}function a(i,o){return c(i[0]-t)<n?o>0?0:3:c(i[0]-e)<n?o>0?2:1:c(i[1]-r)<n?o>0?1:0:o>0?3:2}function l(n,t){return f(n.x,t.x)}function f(n,t){var r=a(n,1),e=a(t,1);return r!==e?r-e:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(n){var a,c,f,p,s,h,g,v,d,E,S,y=n,m=et(),M={point:w,lineStart:function(){M.point=x,c&&c.push(f=[]);E=!0,d=!1,g=v=NaN},lineEnd:function(){a&&(x(p,s),h&&d&&m.rejoin(),a.push(m.result()));M.point=w,d&&y.lineEnd()},polygonStart:function(){y=m,a=[],c=[],S=!0},polygonEnd:function(){var r=function(){for(var n=0,r=0,e=c.length;r<e;++r)for(var o,u,a=c[r],l=1,f=a.length,p=a[0],s=p[0],h=p[1];l<f;++l)o=s,u=h,s=(p=a[l])[0],h=p[1],u<=i?h>i&&(s-o)*(i-u)>(h-u)*(t-o)&&++n:h<=i&&(s-o)*(i-u)<(h-u)*(t-o)&&--n;return n}(),e=S&&r,o=(a=q.merge(a)).length;(e||o)&&(n.polygonStart(),e&&(n.lineStart(),u(null,null,1,n),n.lineEnd()),o&&ut(a,l,r,u,n),n.polygonEnd());y=n,a=c=f=null}};function w(n,t){o(n,t)&&y.point(n,t)}function x(n,u){var a=o(n,u);if(c&&f.push([n,u]),E)p=n,s=u,h=a,E=!1,a&&(y.lineStart(),y.point(n,u));else if(a&&d)y.point(n,u);else{var l=[g=Math.max(mt,Math.min(yt,g)),v=Math.max(mt,Math.min(yt,v))],m=[n=Math.max(mt,Math.min(yt,n)),u=Math.max(mt,Math.min(yt,u))];!function(n,t,r,e,i,o){var u,a=n[0],c=n[1],l=0,f=1,p=t[0]-a,s=t[1]-c;if(u=r-a,p||!(u>0)){if(u/=p,p<0){if(u<l)return;u<f&&(f=u)}else if(p>0){if(u>f)return;u>l&&(l=u)}if(u=i-a,p||!(u<0)){if(u/=p,p<0){if(u>f)return;u>l&&(l=u)}else if(p>0){if(u<l)return;u<f&&(f=u)}if(u=e-c,s||!(u>0)){if(u/=s,s<0){if(u<l)return;u<f&&(f=u)}else if(s>0){if(u>f)return;u>l&&(l=u)}if(u=o-c,s||!(u<0)){if(u/=s,s<0){if(u>f)return;u>l&&(l=u)}else if(s>0){if(u<l)return;u<f&&(f=u)}return l>0&&(n[0]=a+l*p,n[1]=c+l*s),f<1&&(t[0]=a+f*p,t[1]=c+f*s),!0}}}}}(l,m,t,r,e,i)?a&&(y.lineStart(),y.point(n,u),S=!1):(d||(y.lineStart(),y.point(l[0],l[1])),y.point(m[0],m[1]),a||y.lineEnd(),S=!1)}g=n,v=u,d=a}return M}}var wt={sphere:_,point:_,lineStart:function(){wt.point=_t,wt.lineEnd=xt},lineEnd:_,polygonStart:_,polygonEnd:_};function xt(){wt.point=wt.lineEnd=_}function _t(n,t){dt=n*=a,Et=E(t*=a),St=p(t),wt.point=Nt}function Nt(n,t){n*=a;var r=E(t*=a),e=p(t),i=c(n-dt),o=p(i),u=e*E(i),l=St*r-Et*e*o,s=Et*r+St*e*o;vt.add(f(y(u*u+l*l),s)),dt=n,Et=r,St=e}function At(n){return vt=new q.Adder,$(n,wt),+vt}var Rt=[null,null],Ct={type:"LineString",coordinates:Rt};function Pt(n,t){return Rt[0]=n,Rt[1]=t,At(Ct)}var $t={Feature:function(n,t){return zt(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,i=r.length;++e<i;)if(zt(r[e].geometry,t))return!0;return!1}},qt={Sphere:function(){return!0},Point:function(n,t){return jt(n.coordinates,t)},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)if(jt(r[e],t))return!0;return!1},LineString:function(n,t){return Lt(n.coordinates,t)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)if(Lt(r[e],t))return!0;return!1},Polygon:function(n,t){return bt(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,i=r.length;++e<i;)if(bt(r[e],t))return!0;return!1},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,i=r.length;++e<i;)if(zt(r[e],t))return!0;return!1}};function zt(n,t){return!(!n||!qt.hasOwnProperty(n.type))&&qt[n.type](n,t)}function jt(n,t){return 0===Pt(n,t)}function Lt(n,r){for(var e,i,o,u=0,a=n.length;u<a;u++){if(0===(i=Pt(n[u],r)))return!0;if(u>0&&(o=Pt(n[u],n[u-1]))>0&&e<=o&&i<=o&&(e+i-o)*(1-Math.pow((e-i)/o,2))<t*o)return!0;e=i}return!1}function bt(n,t){return!!lt(n.map(Gt),Ot(t))}function Gt(n){return(n=n.map(Ot)).pop(),n}function Ot(n){return[n[0]*a,n[1]*a]}function Tt(t,r,e){var i=q.range(t,r-n,e).concat(r);return function(n){return i.map((function(t){return[n,t]}))}}function kt(t,r,e){var i=q.range(t,r-n,e).concat(r);return function(n){return i.map((function(t){return[t,n]}))}}function Ft(){var t,r,e,i,o,u,a,l,f,p,h,g,v=10,d=v,E=90,S=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:M()}}function M(){return q.range(s(i/E)*E,e,E).map(h).concat(q.range(s(l/S)*S,a,S).map(g)).concat(q.range(s(r/v)*v,t,v).filter((function(t){return c(t%E)>n})).map(f)).concat(q.range(s(u/d)*d,o,d).filter((function(t){return c(t%S)>n})).map(p))}return m.lines=function(){return M().map((function(n){return{type:"LineString",coordinates:n}}))},m.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(a).slice(1),h(e).reverse().slice(1),g(l).reverse().slice(1))]}},m.extent=function(n){return arguments.length?m.extentMajor(n).extentMinor(n):m.extentMinor()},m.extentMajor=function(n){return arguments.length?(i=+n[0][0],e=+n[1][0],l=+n[0][1],a=+n[1][1],i>e&&(n=i,i=e,e=n),l>a&&(n=l,l=a,a=n),m.precision(y)):[[i,l],[e,a]]},m.extentMinor=function(n){return arguments.length?(r=+n[0][0],t=+n[1][0],u=+n[0][1],o=+n[1][1],r>t&&(n=r,r=t,t=n),u>o&&(n=u,u=o,o=n),m.precision(y)):[[r,u],[t,o]]},m.step=function(n){return arguments.length?m.stepMajor(n).stepMinor(n):m.stepMinor()},m.stepMajor=function(n){return arguments.length?(E=+n[0],S=+n[1],m):[E,S]},m.stepMinor=function(n){return arguments.length?(v=+n[0],d=+n[1],m):[v,d]},m.precision=function(n){return arguments.length?(y=+n,f=Tt(u,o,90),p=kt(r,t,y),h=Tt(l,a,90),g=kt(i,e,y),m):y},m.extentMajor([[-180,-90+n],[180,90-n]]).extentMinor([[-180,-80-n],[180,80+n]])}var Ht,It,Wt,Xt,Yt=n=>n,Bt=new q.Adder,Dt=new q.Adder,Ut={point:_,lineStart:_,lineEnd:_,polygonStart:function(){Ut.lineStart=Zt,Ut.lineEnd=Qt},polygonEnd:function(){Ut.lineStart=Ut.lineEnd=Ut.point=_,Bt.add(c(Dt)),Dt=new q.Adder},result:function(){var n=Bt/2;return Bt=new q.Adder,n}};function Zt(){Ut.point=Jt}function Jt(n,t){Ut.point=Kt,Ht=Wt=n,It=Xt=t}function Kt(n,t){Dt.add(Xt*n-Wt*t),Wt=n,Xt=t}function Qt(){Kt(Ht,It)}var Vt=1/0,nr=Vt,tr=-Vt,rr=tr,er={point:function(n,t){n<Vt&&(Vt=n);n>tr&&(tr=n);t<nr&&(nr=t);t>rr&&(rr=t)},lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_,result:function(){var n=[[Vt,nr],[tr,rr]];return tr=rr=-(nr=Vt=1/0),n}};var ir,or,ur,ar,cr=0,lr=0,fr=0,pr=0,sr=0,hr=0,gr=0,vr=0,dr=0,Er={point:Sr,lineStart:yr,lineEnd:wr,polygonStart:function(){Er.lineStart=xr,Er.lineEnd=_r},polygonEnd:function(){Er.point=Sr,Er.lineStart=yr,Er.lineEnd=wr},result:function(){var n=dr?[gr/dr,vr/dr]:hr?[pr/hr,sr/hr]:fr?[cr/fr,lr/fr]:[NaN,NaN];return cr=lr=fr=pr=sr=hr=gr=vr=dr=0,n}};function Sr(n,t){cr+=n,lr+=t,++fr}function yr(){Er.point=mr}function mr(n,t){Er.point=Mr,Sr(ur=n,ar=t)}function Mr(n,t){var r=n-ur,e=t-ar,i=y(r*r+e*e);pr+=i*(ur+n)/2,sr+=i*(ar+t)/2,hr+=i,Sr(ur=n,ar=t)}function wr(){Er.point=Sr}function xr(){Er.point=Nr}function _r(){Ar(ir,or)}function Nr(n,t){Er.point=Ar,Sr(ir=ur=n,or=ar=t)}function Ar(n,t){var r=n-ur,e=t-ar,i=y(r*r+e*e);pr+=i*(ur+n)/2,sr+=i*(ar+t)/2,hr+=i,gr+=(i=ar*n-ur*t)*(ur+n),vr+=i*(ar+t),dr+=3*i,Sr(ur=n,ar=t)}function Rr(n){this._context=n}Rr.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,o)}},result:_};var Cr,Pr,$r,qr,zr,jr=new q.Adder,Lr={point:_,lineStart:function(){Lr.point=br},lineEnd:function(){Cr&&Gr(Pr,$r),Lr.point=_},polygonStart:function(){Cr=!0},polygonEnd:function(){Cr=null},result:function(){var n=+jr;return jr=new q.Adder,n}};function br(n,t){Lr.point=Gr,Pr=qr=n,$r=zr=t}function Gr(n,t){qr-=n,zr-=t,jr.add(y(qr*qr+zr*zr)),qr=n,zr=t}let Or,Tr,kr,Fr;class Hr{constructor(n){this._append=null==n?Ir:function(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Ir;if(t!==Or){const n=10**t;Or=t,Tr=function(t){let r=1;this._+=t[0];for(const e=t.length;r<e;++r)this._+=Math.round(arguments[r]*n)/n+t[r]}}return Tr}(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(n,t){switch(this._point){case 0:this._append`M${n},${t}`,this._point=1;break;case 1:this._append`L${n},${t}`;break;default:if(this._append`M${n},${t}`,this._radius!==kr||this._append!==Tr){const n=this._radius,t=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,kr=n,Tr=this._append,Fr=this._,this._=t}this._+=Fr}}result(){const n=this._;return this._="",n.length?n:null}}function Ir(n){let t=1;this._+=n[0];for(const r=n.length;t<r;++t)this._+=arguments[t]+n[t]}function Wr(n){return function(t){var r=new Xr;for(var e in n)r[e]=n[e];return r.stream=t,r}}function Xr(){}function Yr(n,t,r){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=e&&n.clipExtent(null),$(r,n.stream(er)),t(er.result()),null!=e&&n.clipExtent(e),n}function Br(n,t,r){return Yr(n,(function(r){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(e/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),u=+t[0][0]+(e-o*(r[1][0]+r[0][0]))/2,a=+t[0][1]+(i-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([u,a])}),r)}function Dr(n,t,r){return Br(n,[[0,0],t],r)}function Ur(n,t,r){return Yr(n,(function(r){var e=+t,i=e/(r[1][0]-r[0][0]),o=(e-i*(r[1][0]+r[0][0]))/2,u=-i*r[0][1];n.scale(150*i).translate([o,u])}),r)}function Zr(n,t,r){return Yr(n,(function(r){var e=+t,i=e/(r[1][1]-r[0][1]),o=-i*r[0][0],u=(e-i*(r[1][1]+r[0][1]))/2;n.scale(150*i).translate([o,u])}),r)}Xr.prototype={constructor:Xr,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Jr=16,Kr=p(30*a);function Qr(t,r){return+r?function(t,r){function e(i,o,u,a,l,p,s,h,g,v,d,E,S,m){var M=s-i,x=h-o,_=M*M+x*x;if(_>4*r&&S--){var N=a+v,A=l+d,R=p+E,C=y(N*N+A*A+R*R),P=w(R/=C),$=c(c(R)-1)<n||c(u-g)<n?(u+g)/2:f(A,N),q=t($,P),z=q[0],j=q[1],L=z-i,b=j-o,G=x*L-M*b;(G*G/_>r||c((M*L+x*b)/_-.5)>.3||a*v+l*d+p*E<Kr)&&(e(i,o,u,a,l,p,z,j,$,N/=C,A/=C,R,S,m),m.point(z,j),e(z,j,$,N,A,R,s,h,g,v,d,E,S,m))}}return function(n){var r,i,o,u,a,c,l,f,p,s,h,g,v={point:d,lineStart:E,lineEnd:y,polygonStart:function(){n.polygonStart(),v.lineStart=m},polygonEnd:function(){n.polygonEnd(),v.lineStart=E}};function d(r,e){r=t(r,e),n.point(r[0],r[1])}function E(){f=NaN,v.point=S,n.lineStart()}function S(r,i){var o=rn([r,i]),u=t(r,i);e(f,p,l,s,h,g,f=u[0],p=u[1],l=r,s=o[0],h=o[1],g=o[2],Jr,n),n.point(f,p)}function y(){v.point=d,n.lineEnd()}function m(){E(),v.point=M,v.lineEnd=w}function M(n,t){S(r=n,t),i=f,o=p,u=s,a=h,c=g,v.point=S}function w(){e(f,p,l,s,h,g,i,o,r,u,a,c,Jr,n),v.lineEnd=y,y()}return v}}(t,r):function(n){return Wr({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}(t)}var Vr=Wr({point:function(n,t){this.stream.point(n*a,t*a)}});function ne(n,t,r,e,i,o){if(!o)return function(n,t,r,e,i){function o(o,u){return[t+n*(o*=e),r-n*(u*=i)]}return o.invert=function(o,u){return[(o-t)/n*e,(r-u)/n*i]},o}(n,t,r,e,i);var u=p(o),a=E(o),c=u*n,l=a*n,f=u/n,s=a/n,h=(a*r-u*t)/n,g=(a*t+u*r)/n;function v(n,o){return[c*(n*=e)-l*(o*=i)+t,r-l*n-c*o]}return v.invert=function(n,t){return[e*(f*n-s*t+h),i*(g-s*n-f*t)]},v}function te(n){return re((function(){return n}))()}function re(n){var t,r,e,i,o,c,l,f,p,s,h=150,g=480,v=250,d=0,E=0,S=0,m=0,M=0,w=0,x=1,_=1,N=null,A=ht,R=null,C=Yt,P=.5;function $(n){return f(n[0]*a,n[1]*a)}function q(n){return(n=f.invert(n[0],n[1]))&&[n[0]*u,n[1]*u]}function z(){var n=ne(h,0,0,x,_,w).apply(null,t(d,E)),e=ne(h,g-n[0],v-n[1],x,_,w);return r=Jn(S,m,M),l=Un(t,e),f=Un(r,l),c=Qr(l,P),j()}function j(){return p=s=null,$}return $.stream=function(n){return p&&s===n?p:p=Vr(function(n){return Wr({point:function(t,r){var e=n(t,r);return this.stream.point(e[0],e[1])}})}(r)(A(c(C(s=n)))))},$.preclip=function(n){return arguments.length?(A=n,N=void 0,j()):A},$.postclip=function(n){return arguments.length?(C=n,R=e=i=o=null,j()):C},$.clipAngle=function(n){return arguments.length?(A=+n?gt(N=n*a):(N=null,ht),j()):N*u},$.clipExtent=function(n){return arguments.length?(C=null==n?(R=e=i=o=null,Yt):Mt(R=+n[0][0],e=+n[0][1],i=+n[1][0],o=+n[1][1]),j()):null==R?null:[[R,e],[i,o]]},$.scale=function(n){return arguments.length?(h=+n,z()):h},$.translate=function(n){return arguments.length?(g=+n[0],v=+n[1],z()):[g,v]},$.center=function(n){return arguments.length?(d=n[0]%360*a,E=n[1]%360*a,z()):[d*u,E*u]},$.rotate=function(n){return arguments.length?(S=n[0]%360*a,m=n[1]%360*a,M=n.length>2?n[2]%360*a:0,z()):[S*u,m*u,M*u]},$.angle=function(n){return arguments.length?(w=n%360*a,z()):w*u},$.reflectX=function(n){return arguments.length?(x=n?-1:1,z()):x<0},$.reflectY=function(n){return arguments.length?(_=n?-1:1,z()):_<0},$.precision=function(n){return arguments.length?(c=Qr(l,P=n*n),j()):y(P)},$.fitExtent=function(n,t){return Br($,n,t)},$.fitSize=function(n,t){return Dr($,n,t)},$.fitWidth=function(n,t){return Ur($,n,t)},$.fitHeight=function(n,t){return Zr($,n,t)},function(){return t=n.apply(this,arguments),$.invert=t.invert&&q,z()}}function ee(n){var t=0,e=r/3,i=re(n),o=i(t,e);return o.parallels=function(n){return arguments.length?i(t=n[0]*a,e=n[1]*a):[t*u,e*u]},o}function ie(t,e){var i=E(t),o=(i+E(e))/2;if(c(o)<n)return function(n){var t=p(n);function r(n,r){return[n*t,E(r)/t]}return r.invert=function(n,r){return[n/t,w(r*t)]},r}(t);var u=1+i*(2*o-i),a=y(u)/o;function l(n,t){var r=y(u-2*o*E(t))/o;return[r*E(n*=o),a-r*p(n)]}return l.invert=function(n,t){var e=a-t,i=f(n,c(e))*S(e);return e*o<0&&(i-=r*S(n)*S(e)),[i/o,w((u-(n*n+e*e)*o*o)/(2*o))]},l}function oe(){return ee(ie).scale(155.424).center([0,33.6442])}function ue(){return oe().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ae(n){return function(t,r){var e=p(t),i=p(r),o=n(e*i);return o===1/0?[2,0]:[o*i*E(t),o*E(r)]}}function ce(n){return function(t,r){var e=y(t*t+r*r),i=n(e),o=E(i),u=p(i);return[f(t*o,e*u),w(e&&r*o/e)]}}var le=ae((function(n){return y(2/(1+n))}));le.invert=ce((function(n){return 2*w(n/2)}));var fe=ae((function(n){return(n=M(n))&&n/E(n)}));function pe(n,t){return[n,v(m((e+t)/2))]}function se(n){var t,e,i,o=te(n),u=o.center,a=o.scale,c=o.translate,l=o.clipExtent,f=null;function p(){var u=r*a(),c=o(nt(o.rotate()).invert([0,0]));return l(null==f?[[c[0]-u,c[1]-u],[c[0]+u,c[1]+u]]:n===pe?[[Math.max(c[0]-u,f),t],[Math.min(c[0]+u,e),i]]:[[f,Math.max(c[1]-u,t)],[e,Math.min(c[1]+u,i)]])}return o.scale=function(n){return arguments.length?(a(n),p()):a()},o.translate=function(n){return arguments.length?(c(n),p()):c()},o.center=function(n){return arguments.length?(u(n),p()):u()},o.clipExtent=function(n){return arguments.length?(null==n?f=t=e=i=null:(f=+n[0][0],t=+n[0][1],e=+n[1][0],i=+n[1][1]),p()):null==f?null:[[f,t],[e,i]]},p()}function he(n){return m((e+n)/2)}function ge(t,i){var o=p(t),u=t===i?E(t):v(o/p(i))/v(he(i)/he(t)),a=o*d(he(t),u)/u;if(!u)return pe;function s(t,r){a>0?r<-e+n&&(r=-e+n):r>e-n&&(r=e-n);var i=a/d(he(r),u);return[i*E(u*t),a-i*p(u*t)]}return s.invert=function(n,t){var i=a-t,o=S(u)*y(n*n+i*i),p=f(n,c(i))*S(i);return i*u<0&&(p-=r*S(n)*S(i)),[p/u,2*l(d(a/o,1/u))-e]},s}function ve(n,t){return[n,t]}function de(t,e){var i=p(t),o=t===e?E(t):(i-p(e))/(e-t),u=i/o+t;if(c(o)<n)return ve;function a(n,t){var r=u-t,e=o*n;return[r*E(e),u-r*p(e)]}return a.invert=function(n,t){var e=u-t,i=f(n,c(e))*S(e);return e*o<0&&(i-=r*S(n)*S(e)),[i/o,u-S(o)*y(n*n+e*e)]},a}fe.invert=ce((function(n){return n})),pe.invert=function(n,t){return[n,2*l(h(t))-e]},ve.invert=ve;var Ee=1.340264,Se=-.081106,ye=893e-6,me=.003796,Me=y(3)/2;function we(n,t){var r=w(Me*E(t)),e=r*r,i=e*e*e;return[n*p(r)/(Me*(Ee+3*Se*e+i*(7*ye+9*me*e))),r*(Ee+Se*e+i*(ye+me*e))]}function xe(n,t){var r=p(t),e=p(n)*r;return[r*E(n)/e,E(t)/e]}function _e(n,t){var r=t*t,e=r*r;return[n*(.8707-.131979*r+e*(e*(.003971*r-.001529*e)-.013791)),t*(1.007226+r*(.015085+e*(.028874*r-.044475-.005916*e)))]}function Ne(n,t){return[p(t)*E(n),E(t)]}function Ae(n,t){var r=p(t),e=1+p(n)*r;return[r*E(n)/e,E(t)/e]}function Re(n,t){return[v(m((e+t)/2)),-n]}we.invert=function(n,r){for(var e,i=r,o=i*i,u=o*o*o,a=0;a<12&&(u=(o=(i-=e=(i*(Ee+Se*o+u*(ye+me*o))-r)/(Ee+3*Se*o+u*(7*ye+9*me*o)))*i)*o*o,!(c(e)<t));++a);return[Me*n*(Ee+3*Se*o+u*(7*ye+9*me*o))/p(i),w(E(i)/Me)]},xe.invert=ce(l),_e.invert=function(t,r){var e,i=r,o=25;do{var u=i*i,a=u*u;i-=e=(i*(1.007226+u*(.015085+a*(.028874*u-.044475-.005916*a)))-r)/(1.007226+u*(.045255+a*(.259866*u-.311325-.005916*11*a)))}while(c(e)>n&&--o>0);return[t/(.8707+(u=i*i)*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979)),i]},Ne.invert=ce(w),Ae.invert=ce((function(n){return 2*l(n)})),Re.invert=function(n,t){return[-t,2*l(h(n))-e]};var Ce={};Ce.geoAlbers=ue,Ce.geoAlbersUsa=function(){var t,r,e,i,o,u,a=ue(),c=oe().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=oe().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(n,t){u=[n,t]}};function p(n){var t=n[0],r=n[1];return u=null,e.point(t,r),u||(i.point(t,r),u)||(o.point(t,r),u)}function s(){return t=r=null,p}return p.invert=function(n){var t=a.scale(),r=a.translate(),e=(n[0]-r[0])/t,i=(n[1]-r[1])/t;return(i>=.12&&i<.234&&e>=-.425&&e<-.214?c:i>=.166&&i<.234&&e>=-.214&&e<-.115?l:a).invert(n)},p.stream=function(n){return t&&r===n?t:(e=[a.stream(r=n),c.stream(n),l.stream(n)],i=e.length,t={point:function(n,t){for(var r=-1;++r<i;)e[r].point(n,t)},sphere:function(){for(var n=-1;++n<i;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<i;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<i;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<i;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<i;)e[n].polygonEnd()}});var e,i},p.precision=function(n){return arguments.length?(a.precision(n),c.precision(n),l.precision(n),s()):a.precision()},p.scale=function(n){return arguments.length?(a.scale(n),c.scale(.35*n),l.scale(n),p.translate(a.translate())):a.scale()},p.translate=function(t){if(!arguments.length)return a.translate();var r=a.scale(),u=+t[0],p=+t[1];return e=a.translate(t).clipExtent([[u-.455*r,p-.238*r],[u+.455*r,p+.238*r]]).stream(f),i=c.translate([u-.307*r,p+.201*r]).clipExtent([[u-.425*r+n,p+.12*r+n],[u-.214*r-n,p+.234*r-n]]).stream(f),o=l.translate([u-.205*r,p+.212*r]).clipExtent([[u-.214*r+n,p+.166*r+n],[u-.115*r-n,p+.234*r-n]]).stream(f),s()},p.fitExtent=function(n,t){return Br(p,n,t)},p.fitSize=function(n,t){return Dr(p,n,t)},p.fitWidth=function(n,t){return Ur(p,n,t)},p.fitHeight=function(n,t){return Zr(p,n,t)},p.scale(1070)},Ce.geoArea=function(n){return Z=new q.Adder,$(n,J),2*Z},Ce.geoAzimuthalEqualArea=function(){return te(le).scale(124.75).clipAngle(179.999)},Ce.geoAzimuthalEqualAreaRaw=le,Ce.geoAzimuthalEquidistant=function(){return te(fe).scale(79.4188).clipAngle(179.999)},Ce.geoAzimuthalEquidistantRaw=fe,Ce.geoBounds=function(n){var t,r,e,i,o,u,a;if(F=k=-(O=T=1/0),B=[],$(n,Nn),r=B.length){for(B.sort(Ln),t=1,o=[e=B[0]];t<r;++t)bn(e,(i=B[t])[0])||bn(e,i[1])?(jn(e[0],i[1])>jn(e[0],e[1])&&(e[1]=i[1]),jn(i[0],e[1])>jn(e[0],e[1])&&(e[0]=i[0])):o.push(e=i);for(u=-1/0,t=0,e=o[r=o.length-1];t<=r;e=i,++t)i=o[t],(a=jn(e[1],i[0]))>u&&(u=a,O=i[0],k=e[1])}return B=D=null,O===1/0||T===1/0?[[NaN,NaN],[NaN,NaN]]:[[O,T],[k,F]]},Ce.geoCentroid=function(r){ln=fn=pn=sn=hn=gn=vn=dn=0,En=new q.Adder,Sn=new q.Adder,yn=new q.Adder,$(r,Gn);var e=+En,i=+Sn,o=+yn,a=g(e,i,o);return a<t&&(e=gn,i=vn,o=dn,fn<n&&(e=pn,i=sn,o=hn),(a=g(e,i,o))<t)?[NaN,NaN]:[f(i,e)*u,w(o/a)*u]},Ce.geoCircle=function(){var n,t,r=Dn([0,0]),e=Dn(90),i=Dn(6),o={point:function(r,e){n.push(r=t(r,e)),r[0]*=u,r[1]*=u}};function c(){var u=r.apply(this,arguments),c=e.apply(this,arguments)*a,l=i.apply(this,arguments)*a;return n=[],t=Jn(-u[0]*a,-u[1]*a,0).invert,tt(o,c,l,1),u={type:"Polygon",coordinates:[n]},n=t=null,u}return c.center=function(n){return arguments.length?(r="function"==typeof n?n:Dn([+n[0],+n[1]]),c):r},c.radius=function(n){return arguments.length?(e="function"==typeof n?n:Dn(+n),c):e},c.precision=function(n){return arguments.length?(i="function"==typeof n?n:Dn(+n),c):i},c},Ce.geoClipAntimeridian=ht,Ce.geoClipCircle=gt,Ce.geoClipExtent=function(){var n,t,r,e=0,i=0,o=960,u=500;return r={stream:function(r){return n&&t===r?n:n=Mt(e,i,o,u)(t=r)},extent:function(a){return arguments.length?(e=+a[0][0],i=+a[0][1],o=+a[1][0],u=+a[1][1],n=t=null,r):[[e,i],[o,u]]}}},Ce.geoClipRectangle=Mt,Ce.geoConicConformal=function(){return ee(ge).scale(109.5).parallels([30,30])},Ce.geoConicConformalRaw=ge,Ce.geoConicEqualArea=oe,Ce.geoConicEqualAreaRaw=ie,Ce.geoConicEquidistant=function(){return ee(de).scale(131.154).center([0,13.9389])},Ce.geoConicEquidistantRaw=de,Ce.geoContains=function(n,t){return(n&&$t.hasOwnProperty(n.type)?$t[n.type]:zt)(n,t)},Ce.geoDistance=Pt,Ce.geoEqualEarth=function(){return te(we).scale(177.158)},Ce.geoEqualEarthRaw=we,Ce.geoEquirectangular=function(){return te(ve).scale(152.63)},Ce.geoEquirectangularRaw=ve,Ce.geoGnomonic=function(){return te(xe).scale(144.049).clipAngle(60)},Ce.geoGnomonicRaw=xe,Ce.geoGraticule=Ft,Ce.geoGraticule10=function(){return Ft()()},Ce.geoIdentity=function(){var n,t,r,e,i,o,c,l=1,f=0,s=0,h=1,g=1,v=0,d=null,S=1,y=1,m=Wr({point:function(n,t){var r=x([n,t]);this.stream.point(r[0],r[1])}}),M=Yt;function w(){return S=l*h,y=l*g,o=c=null,x}function x(r){var e=r[0]*S,i=r[1]*y;if(v){var o=i*n-e*t;e=e*n+i*t,i=o}return[e+f,i+s]}return x.invert=function(r){var e=r[0]-f,i=r[1]-s;if(v){var o=i*n+e*t;e=e*n-i*t,i=o}return[e/S,i/y]},x.stream=function(n){return o&&c===n?o:o=m(M(c=n))},x.postclip=function(n){return arguments.length?(M=n,d=r=e=i=null,w()):M},x.clipExtent=function(n){return arguments.length?(M=null==n?(d=r=e=i=null,Yt):Mt(d=+n[0][0],r=+n[0][1],e=+n[1][0],i=+n[1][1]),w()):null==d?null:[[d,r],[e,i]]},x.scale=function(n){return arguments.length?(l=+n,w()):l},x.translate=function(n){return arguments.length?(f=+n[0],s=+n[1],w()):[f,s]},x.angle=function(r){return arguments.length?(t=E(v=r%360*a),n=p(v),w()):v*u},x.reflectX=function(n){return arguments.length?(h=n?-1:1,w()):h<0},x.reflectY=function(n){return arguments.length?(g=n?-1:1,w()):g<0},x.fitExtent=function(n,t){return Br(x,n,t)},x.fitSize=function(n,t){return Dr(x,n,t)},x.fitWidth=function(n,t){return Ur(x,n,t)},x.fitHeight=function(n,t){return Zr(x,n,t)},x},Ce.geoInterpolate=function(n,t){var r=n[0]*a,e=n[1]*a,i=t[0]*a,o=t[1]*a,c=p(e),l=E(e),s=p(o),h=E(o),g=c*p(r),v=c*E(r),d=s*p(i),S=s*E(i),m=2*w(y(x(o-e)+c*s*x(i-r))),M=E(m),_=m?function(n){var t=E(n*=m)/M,r=E(m-n)/M,e=r*g+t*d,i=r*v+t*S,o=r*l+t*h;return[f(i,e)*u,f(o,y(e*e+i*i))*u]}:function(){return[r*u,e*u]};return _.distance=m,_},Ce.geoLength=At,Ce.geoMercator=function(){return se(pe).scale(961/o)},Ce.geoMercatorRaw=pe,Ce.geoNaturalEarth1=function(){return te(_e).scale(175.295)},Ce.geoNaturalEarth1Raw=_e,Ce.geoOrthographic=function(){return te(Ne).scale(249.5).clipAngle(90+n)},Ce.geoOrthographicRaw=Ne,Ce.geoPath=function(n,t){let r,e,i=3,o=4.5;function u(n){return n&&("function"==typeof o&&e.pointRadius(+o.apply(this,arguments)),$(n,r(e))),e.result()}return u.area=function(n){return $(n,r(Ut)),Ut.result()},u.measure=function(n){return $(n,r(Lr)),Lr.result()},u.bounds=function(n){return $(n,r(er)),er.result()},u.centroid=function(n){return $(n,r(Er)),Er.result()},u.projection=function(t){return arguments.length?(r=null==t?(n=null,Yt):(n=t).stream,u):n},u.context=function(n){return arguments.length?(e=null==n?(t=null,new Hr(i)):new Rr(t=n),"function"!=typeof o&&e.pointRadius(o),u):t},u.pointRadius=function(n){return arguments.length?(o="function"==typeof n?n:(e.pointRadius(+n),+n),u):o},u.digits=function(n){if(!arguments.length)return i;if(null==n)i=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);i=t}return null===t&&(e=new Hr(i)),u},u.projection(n).digits(i).context(t)},Ce.geoProjection=te,Ce.geoProjectionMutator=re,Ce.geoRotation=nt,Ce.geoStereographic=function(){return te(Ae).scale(250).clipAngle(142)},Ce.geoStereographicRaw=Ae,Ce.geoStream=$,Ce.geoTransform=function(n){return{stream:Wr(n)}},Ce.geoTransverseMercator=function(){var n=se(Re),t=n.center,r=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):[(n=r())[0],n[1],n[2]-90]},r([0,0,90]).scale(159.155)},Ce.geoTransverseMercatorRaw=Re,window.d3geo=Ce;export{Ce as default};
